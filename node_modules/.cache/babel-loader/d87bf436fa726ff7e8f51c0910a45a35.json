{"ast":null,"code":"\"use strict\";\n\nvar __extends = this && this.__extends || function () {\n  var extendStatics = Object.setPrototypeOf || {\n    __proto__: []\n  } instanceof Array && function (d, b) {\n    d.__proto__ = b;\n  } || function (d, b) {\n    for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p];\n  };\n\n  return function (d, b) {\n    extendStatics(d, b);\n\n    function __() {\n      this.constructor = d;\n    }\n\n    d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n  };\n}();\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n\nvar React = require(\"react\");\n\nvar ProgressiveImage = function (_super) {\n  __extends(ProgressiveImage, _super);\n\n  function ProgressiveImage() {\n    return _super !== null && _super.apply(this, arguments) || this;\n  }\n\n  ProgressiveImage.prototype.componentWillMount = function () {\n    var _this = this;\n\n    var _a = this.props,\n        src = _a.src,\n        preview = _a.preview;\n    var initialBlur = this.props.initialBlur;\n    this.setState({\n      src: preview,\n      blur: initialBlur\n    });\n    this.fetch(src).then(function (srcDataURI) {\n      return _this.setState({\n        src: srcDataURI,\n        blur: 0\n      });\n    });\n  };\n\n  ProgressiveImage.prototype.render = function () {\n    var src = this.state.src;\n    var render = this.props.render;\n    return render(src, this.getStyle());\n  };\n\n  ProgressiveImage.prototype.fetch = function (src) {\n    return new Promise(function (resolve) {\n      var image = new Image();\n      image.src = src;\n      image.addEventListener(\"load\", function () {\n        return resolve(src);\n      }, false);\n    });\n  };\n\n  ProgressiveImage.prototype.getStyle = function () {\n    var _a = this.props,\n        transitionTime = _a.transitionTime,\n        timingFunction = _a.timingFunction;\n    var blur = this.state.blur;\n    return {\n      filter: \"blur(\" + blur + \"px)\",\n      transition: \"filter \" + transitionTime + \"ms \" + timingFunction\n    };\n  };\n\n  return ProgressiveImage;\n}(React.Component);\n\nProgressiveImage.defaultProps = {\n  transitionTime: 500,\n  timingFunction: \"ease\",\n  initialBlur: 10\n};\nexports.ProgressiveImage = ProgressiveImage;\nexports.default = ProgressiveImage;","map":{"version":3,"sources":["../src/index.tsx"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;AAAA,IAAA,KAAA,GAAA,OAAA,CAAA,OAAA,CAAA;;AAgBA,IAAA,gBAAA,GAAA,UAAA,MAAA,EAAA;AAAsC,EAAA,SAAA,CAAA,gBAAA,EAAA,MAAA,CAAA;;AAAtC,WAAA,gBAAA,GAAA;;AAsCC;;AA9BG,EAAA,gBAAA,CAAA,SAAA,CAAA,kBAAA,GAAA,YAAA;AAAA,QAAA,KAAA,GAAA,IAAA;;AACU,QAAA,EAAA,GAAA,KAAA,KAAA;AAAA,QAAC,GAAA,GAAA,EAAA,CAAA,GAAD;AAAA,QAAM,OAAA,GAAA,EAAA,CAAA,OAAN;AACN,QAAM,WAAW,GAAG,KAAK,KAAL,CAAW,WAA/B;AACA,SAAK,QAAL,CAAc;AAAE,MAAA,GAAG,EAAE,OAAP;AAAgB,MAAA,IAAI,EAAE;AAAtB,KAAd;AACA,SAAK,KAAL,CAAW,GAAX,EACK,IADL,CACU,UAAA,UAAA,EAAU;AAAI,aAAA,KAAI,CAAC,QAAL,CAAc;AAAE,QAAA,GAAG,EAAE,UAAP;AAAmB,QAAA,IAAI,EAArC;AAAc,OAAd,CAAA;AAA2C,KADnE;AAEH,GAND;;AAQA,EAAA,gBAAA,CAAA,SAAA,CAAA,MAAA,GAAA,YAAA;AACW,QAAA,GAAA,GAAA,KAAA,KAAA,CAAA,GAAA;AACA,QAAA,MAAA,GAAA,KAAA,KAAA,CAAA,MAAA;AACP,WAAO,MAAM,CAAC,GAAD,EAAM,KAAK,QAAL,EAAN,CAAb;AACH,GAJD;;AAMQ,EAAA,gBAAA,CAAA,SAAA,CAAA,KAAA,GAAR,UAAc,GAAd,EAAyB;AACrB,WAAO,IAAI,OAAJ,CAAY,UAAA,OAAA,EAAO;AACtB,UAAM,KAAK,GAAG,IAAI,KAAJ,EAAd;AACA,MAAA,KAAK,CAAC,GAAN,GAAY,GAAZ;AACA,MAAA,KAAK,CAAC,gBAAN,CAAuB,MAAvB,EAA+B,YAAA;AAAM,eAAA,OAAO,CAAP,GAAO,CAAP;AAAY,OAAjD,EAAmD,KAAnD;AACH,KAJM,CAAP;AAKH,GANO;;AAQA,EAAA,gBAAA,CAAA,SAAA,CAAA,QAAA,GAAR,YAAA;AACU,QAAA,EAAA,GAAA,KAAA,KAAA;AAAA,QAAC,cAAA,GAAA,EAAA,CAAA,cAAD;AAAA,QAAiB,cAAA,GAAA,EAAA,CAAA,cAAjB;AACC,QAAA,IAAA,GAAA,KAAA,KAAA,CAAA,IAAA;AACP,WAAO;AACH,MAAA,MAAM,EAAE,UAAQ,IAAR,GAAY,KADjB;AAEH,MAAA,UAAU,EAAE,YAAU,cAAV,GAAwB,KAAxB,GAA8B;AAFvC,KAAP;AAIH,GAPO;;AAQZ,SAAA,gBAAA;AAAC,CAtCD,CAAsC,KAAK,CAAC,SAA5C,CAAA;;AAEW,gBAAA,CAAA,YAAA,GAAe;AAClB,EAAA,cAAc,EAAE,GADE;AAElB,EAAA,cAAc,EAAE,MAFE;AAGlB,EAAA,WAAW,EAAE;AAHK,CAAf;AAFE,OAAA,CAAA,gBAAA,GAAA,gBAAA;AAwCb,OAAA,CAAA,OAAA,GAAe,gBAAf","sourceRoot":"","sourcesContent":["\"use strict\";\nvar __extends = (this && this.__extends) || (function () {\n    var extendStatics = Object.setPrototypeOf ||\n        ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\n        function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\n    return function (d, b) {\n        extendStatics(d, b);\n        function __() { this.constructor = d; }\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n    };\n})();\nObject.defineProperty(exports, \"__esModule\", { value: true });\nvar React = require(\"react\");\nvar ProgressiveImage = (function (_super) {\n    __extends(ProgressiveImage, _super);\n    function ProgressiveImage() {\n        return _super !== null && _super.apply(this, arguments) || this;\n    }\n    ProgressiveImage.prototype.componentWillMount = function () {\n        var _this = this;\n        var _a = this.props, src = _a.src, preview = _a.preview;\n        var initialBlur = this.props.initialBlur;\n        this.setState({ src: preview, blur: initialBlur });\n        this.fetch(src)\n            .then(function (srcDataURI) { return _this.setState({ src: srcDataURI, blur: 0 }); });\n    };\n    ProgressiveImage.prototype.render = function () {\n        var src = this.state.src;\n        var render = this.props.render;\n        return render(src, this.getStyle());\n    };\n    ProgressiveImage.prototype.fetch = function (src) {\n        return new Promise(function (resolve) {\n            var image = new Image();\n            image.src = src;\n            image.addEventListener(\"load\", function () { return resolve(src); }, false);\n        });\n    };\n    ProgressiveImage.prototype.getStyle = function () {\n        var _a = this.props, transitionTime = _a.transitionTime, timingFunction = _a.timingFunction;\n        var blur = this.state.blur;\n        return {\n            filter: \"blur(\" + blur + \"px)\",\n            transition: \"filter \" + transitionTime + \"ms \" + timingFunction\n        };\n    };\n    return ProgressiveImage;\n}(React.Component));\nProgressiveImage.defaultProps = {\n    transitionTime: 500,\n    timingFunction: \"ease\",\n    initialBlur: 10\n};\nexports.ProgressiveImage = ProgressiveImage;\nexports.default = ProgressiveImage;\n//# sourceMappingURL=index.js.map"]},"metadata":{},"sourceType":"script"}